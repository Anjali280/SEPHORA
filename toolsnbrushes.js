var tools_array = [
  {
    tag: "Brush",
    brand: "SEPHORA COLLECTION",
    description: "Retractable Complexion Brush",
    price: 1900,
    image_url: "https://cdn13.nnnow.com/web-images/medium/styles/WISXKMTSCKV/1533194318322/1.jpg",
  },

  {
    tag: "Brush",
    brand: "SEPHORA COLLECTION",
    description: "Retractable Lip Brush",
    price: 1800,
    image_url: "https://cdn10.nnnow.com/web-images/medium/styles/E3ATWR0QI78/1533194318319/1.jpg",
  },

  {
    tag: "Brush",
    brand: "MAKE UP FOR EVER",
    description: "Instant Brush Cleanser",
    price: 1800,
    image_url: "https://cdn19.nnnow.com/web-images/medium/styles/X8JIWKM2HL1/1517466587226/1.jpg",
  },

  {
    tag: "Brush",
    brand: "SMASHBOX",
    description: "Lip Brush",
    price: 2050,
    image_url: "https://cdn05.nnnow.com/web-images/medium/styles/EM25HKPUWSF/1525433681246/1.jpg",
  },

  {
    tag: "Brush",
    brand: "SMASHBOX",
    description: "Buildable Cheek Brush",
    price: 3600,
    image_url: "https://cdn07.nnnow.com/web-images/medium/styles/B52J53900ZD/1525433681241/1.jpg",
  },

  {
    tag: "Brush",
    brand: "BOBBI BROWN",
    description: "Ultra Fine Eyeliner Brush",
    price: 4200,
    image_url: "https://cdn05.nnnow.com/web-images/medium/styles/RIGTLZO28BQ/1585223651841/1.jpg",
  },

  {
    tag: "Brush",
    brand: "SHESEIDO",
    description: "Daiya Fude Face Duo Brush",
    price: 3600,
    image_url: "https://cdn16.nnnow.com/web-images/medium/styles/S9HBP9JJUYI/1549870556596/1.jpg",
  },

  {
    tag: "Brush",
    brand: "HUDA BEAUTY",
    description: "Face Sculpt And Shade Dual Ended Contour And Bronze Complexion Brush",
    price: 2300,
    image_url: "https://cdn16.nnnow.com/web-images/medium/styles/JY31P159OKP/1600786072225/1.jpg",
  },

  {
    tag: "Brush",
    brand: "STILLA",
    description: "24 Double Ended Illuminating Powder Brush",
    price: 3840,
    image_url: "https://cdn13.nnnow.com/web-images/medium/styles/IN62GHTXOY8/1491393101968/1.jpg",
  },

  {
    tag: "Brush",
    brand: "NUDESTIX",
    description: "Blend + Buff Brush",
    price: 2700,
    image_url: "https://cdn08.nnnow.com/web-images/medium/styles/D0KROZI14LB/1586348072718/1.jpg",
  },

  {
    tag: "Tools",
    brand: "SEPHORA COLLECTION",
    description: "Face Konjac Sponge",
    price: 980,
    image_url: "https://cdn04.nnnow.com/web-images/medium/styles/LNOKEUIHEQC/1583391560346/1.jpg",
  },

  {
    tag: "Tools",
    brand: "SEPHORA COLLECTION",
    description: "Recycled Plastic Sharpner",
    price: 400,
    image_url: "https://cdn08.nnnow.com/web-images/medium/styles/CZLPWJPNK1M/1644913480935/1.jpg",
  },

  {
    tag: "Tools",
    brand: "BENEFIT COSMETICS",
    description: "Brow Grooming Tweezer & Brush",
    price: 2070,
    image_url: "https://cdn13.nnnow.com/web-images/medium/styles/MA46GGIYAG0/1588243022862/1.jpg",
  },

  {
    tag: "Tools",
    brand: "STILA",
    description: "Save the Day Eye & Lip Perfecter",
    price: 1600,
    image_url: "https://cdn07.nnnow.com/web-images/medium/styles/XKQ7A9PGLKD/1653470822275/1.jpg",
  },

  {
    tag: "Tools",
    brand: "FOREO",
    description: "Luna 3 for Combination Skin",
    price: 18900,
    image_url: "https://cdn10.nnnow.com/web-images/medium/styles/RU1UWVX0TTA/1636383743531/1.jpg",
  },

  {
    tag: "Tools",
    brand: "MAC COSMETICS",
    description: "Foundation Pump",
    price: 1100,
    image_url: "https://cdn15.nnnow.com/web-images/medium/styles/EV0341OXMDT/1600234110763/1.jpg",
  },

  {
    tag: "Tools",
    brand: "Swati Cosmetics",
    description: "False Lash Applicator",
    price: 899,
    image_url: "https://cdn06.nnnow.com/web-images/medium/styles/UWURL23LD87/1625733659837/1.jpg",
  },

  {
    tag: "Tools",
    brand: "BEAUTYBLENDER",
    description: "The Jewel Box Mystery Bling Box",
    price: 2000,
    image_url: "https://cdn03.nnnow.com/web-images/medium/styles/JX5IFLHLQ3J/1593779167620/1.jpg",
  },

  {
    tag: "Tools",
    brand: "BEAUTYBLENDER",
    description: "Blendercleanser® Liquid Charcoal Sponge & Brush Cleanser",
    price: 2000,
    image_url: "https://cdn11.nnnow.com/web-images/medium/styles/CNXQFZYEK3M/1634880939018/1.jpg",
  },

  {
    tag: "Tools",
    brand: "FOREO",
    description: "LUNA™ Mini 2 Facial Cleansing Device - All Skin Types",
    price: 13490,
    image_url: "https://cdn19.nnnow.com/web-images/medium/styles/BWUUNLVN3L6/1495780516926/1.jpg",
  },

  {
    tag: "Vegan",
    brand: "SEPHORA COLLECTION",
    description: "Classic Powder Brush #03",
    price: 1500,
    image_url: "https://cdn02.nnnow.com/web-images/medium/styles/Q44W3TYUVVE/1560852958775/1.jpg",
  },

  {
    tag: "Vegan",
    brand: "SEPHORA COLLECTION",
    description: "Classic Highlighter Brush #05",
    price: 1200,
    image_url: "https://cdn11.nnnow.com/web-images/medium/styles/RSNFZXONJ35/1560852958842/1.jpg",
  },

  {
    tag: "Vegan",
    brand: "SEPHORA COLLECTION",
    description: "Classic Smudge Brush #10",
    price: 900,
    image_url: "https://cdn13.nnnow.com/web-images/medium/styles/AW2FUPSFXQ7/1560852958851/1.jpg",
  },

  {
    tag: "Vegan",
    brand: "SEPHORA COLLECTION",
    description: "Classic Concealer Brush #02",
    price: 1000,
    image_url: "https://cdn12.nnnow.com/web-images/medium/styles/7VMQWKOB44R/1560852958779/1.jpg",
  },

  {
    tag: "Vegan",
    brand: "SEPHORA COLLECTION",
    description: "Classic Multitasker Brush #06",
    price: 1500,
    image_url: "https://cdn01.nnnow.com/web-images/medium/styles/6VSPH657G7L/1560852958771/1.jpg",
  },

  {
    tag: "Vegan",
    brand: "SEPHORA COLLECTION",
    description: "Classic Eyeshadow Brush #08",
    price: 900,
    image_url: "https://cdn02.nnnow.com/web-images/medium/styles/VTWEKSSQIHF/1560852958787/1.jpg",
  },

  {
    tag: "Vegan",
    brand: "SEPHORA COLLECTION",
    description: "Classic Foundation Brush #01",
    price: 1200,
    image_url: "https://cdn01.nnnow.com/web-images/medium/styles/JT4ECFC9Q96/1560852958783/1.jpg",
  },

  {
    tag: "Vegan",
    brand: "SEPHORA COLLECTION",
    description: "Classic Eyeliner Brush #11",
    price: 900,
    image_url: "https://cdn08.nnnow.com/web-images/medium/styles/62UZW0SPYH0/1560852958829/1.jpg",
  },

  {
    tag: "Vegan",
    brand: "SEPHORA COLLECTION",
    description: "Classic Kabuki Brush #07",
    price: 2500,
    image_url: "https://cdn02.nnnow.com/web-images/medium/styles/XOFHOPGA7UJ/1560852958766/1.jpg",
  },

  {
    tag: "Vegan",
    brand: "SEPHORA COLLECTION",
    description: "Classic Crease Brush #09",
    price: 1200,
    image_url: "https://cdn01.nnnow.com/web-images/medium/styles/BGVHWYX2T2H/1560852958832/1.jpg",
  },
];

localStorage.setItem("tbArray", JSON.stringify(tools_array));

var toolsBrushesArray = JSON.parse(localStorage.getItem("tbArray")) || [];

display_products(toolsBrushesArray);

function display_products(toolBrushArray) {
  // console.log(toolBrushArray);
  //   console.log(frag_array.length);
  document.getElementById("product_display").innerHTML = "";
  toolBrushArray.map(function (elem, index) {
    var div2 = document.createElement("div");
    var image = document.createElement("img");
    image.setAttribute("src", elem.image_url);
    image.setAttribute("alt", elem.description);
    var description = document.createElement("h4");
    description.innerText = elem.brand;
    var info = document.createElement("p");
    info.innerText = elem.description;
    var value = document.createElement("h4");
    value.innerText = "Rs. " + elem.price;
    var add_to_cart = document.createElement("button");
    add_to_cart.innerText = "Add to Cart";
    add_to_cart.setAttribute("class", "cart_bag");
    add_to_cart.addEventListener("click", function () {
      add_pro_cart_fun(elem);
    });
    var add_to_bag = document.createElement("button");
    add_to_bag.innerText = "Add to Bag";
    add_to_bag.addEventListener("click", function () {
      add_pro_bag_fun(elem);
    });
    add_to_bag.setAttribute("class", "cart_bag");
    div2.append(image, description, info, value, add_to_cart);
    document.getElementById("product_display").append(div2);
  });
}

var cartProducts = JSON.parse(localStorage.getItem("cart_products")) || [];

function add_pro_cart_fun(elem) {
  cartProducts.push(elem);
  localStorage.setItem("cart_products", JSON.stringify(cartProducts));
}

var bagProducts = JSON.parse(localStorage.getItem("bag_products")) || [];

function add_pro_bag_fun(elem) {
  bagProducts.push(elem);
  localStorage.setItem("bag_products", JSON.stringify(bagProducts));
}

function filter_fun() {
  tags_filter();
  brands_filter();
  price_filter();
  price_sort();
  var filteredDataT = toolsBrushesArray;
  function tags_filter() {
    selected_tag = document.getElementById("ftag").value;
    filteredDataT = toolsBrushesArray.filter(function (elem) {
      if (selected_tag === "tags") {
        return 1;
      }

      return elem.tag === selected_tag;
    });

    //display_skincare(filteredDataT);
  }

  var filteredDataB = filteredDataT;
  function brands_filter() {
    var selected_brand = document.getElementById("fbrand").value;
    filteredDataB = filteredDataT.filter(function (elem) {
      if (selected_brand === "brands") {
        return 1;
      }
      return elem.brand === selected_brand;
    });
    //console.log(filteredDataB);
  }
  //display_skincare(filteredDataB);

  var filteredDataP = filteredDataB;
  function price_filter() {
    var selected_price = document.getElementById("fprice").value;
    filteredDataP = filteredDataB.filter(function (elem) {
      if (selected_price === "price") {
        return 1;
      } else if (selected_price === "0") {
        return elem.price >= 0 && elem.price < 2000;
      } else if (selected_price === "2000") {
        return elem.price >= 2000 && elem.price < 5000;
      } else {
        return elem.price >= 5000;
      }
    });
    //display_products(filteredDataP);
  }

  function price_sort() {
    if (document.getElementById("sort_price").value == "high") {
      filteredDataP.sort(function (a, b) {
        if (parseInt(a.price) > parseInt(b.price)) return -1;
        if (parseInt(a.price) < parseInt(b.price)) return 1;
        return 0;
      });
    }

    if (document.getElementById("sort_price").value == "low") {
      filteredDataP.sort(function (a, b) {
        if (parseInt(a.price) > parseInt(b.price)) return 1;
        if (parseInt(a.price) < parseInt(b.price)) return -1;
        return 0;
      });
    }
    display_products(filteredDataP);
    filterResult = filteredDataP;
  }
}
